<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#ace">
    <title>My Favorite Music</title>
    <link rel="manifest" href="./manifest.json">
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <script src="js/main.js" defer></script>

    <style>
      body {
        padding: 0;
        margin: 0;
      }
      div {
        width: 100%;
        height: 100%;
        font-size: 16px;
      }
    </style>
    <script src="./data.js?s=2"></script>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
    <script type="text/jsx" src="audioTrack.jsx?d=x"></script>
    <script type="text/babel">
        class Menu extends React.Component {
          constructor(props) {
            super(props);
            this.state = {cat: '粵講越有趣', subCat: '唐詩七絕選賞 - 陳耀南教授主講', list : ycanList};
            this.handleChange = this.handleChange.bind(this);

            this.audioList = {'唐詩七絕選賞 - 陳耀南教授主講':ycanList, '葉培':yePeiList, '潘昭強':panChaoQiangList, '周永傑':zhouYongJieList, 'RTHK': rthkList};
            // this.audioList = {'1':ycanList, '2': yePeiList, '3': panChaoQiangList, '4': zhouYongJieList, '5', zhaobinghengList, '6': liangjieeList, '7': tanhuiqingList, '8': zhongfeiList, '9': yanjianrongList};
          }

          handleChange(e) {
            //e.preventDefault();
            this.cat = e.target.dataset.cat;
            this.subCat = e.target.dataset.subcat;
            this.list = this.audioList[this.subCat];

            this.setState({cat: this.cat, subCat: this.subCat, list: this.list});
          }

          render() {
            return (
              <div>
                <div className="pure-menu pure-menu-horizontal">
                    <ul className="pure-menu-list">
                        <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="粵講越有趣" data-subcat="唐詩七絕選賞 - 陳耀南教授主講" className="pure-menu-link">粵講越有趣</a></li>
                         <li className="pure-menu-item pure-menu-has-children pure-menu-allow-hover">
                          <a href="#" id="menuLink1" className="pure-menu-link">大城小事</a>
                          <ul className="pure-menu-children">
                              <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="大城小事" data-subcat="葉培" className="pure-menu-link">葉培</a></li>
                              <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="大城小事" data-subcat="潘昭強" className="pure-menu-link">潘昭強</a></li>
                              <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="大城小事" data-subcat="周永傑" className="pure-menu-link">周永傑</a></li>
                              <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="大城小事" data-subcat="招秉恒" className="pure-menu-link">招秉恒</a></li>
                              <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="大城小事" data-subcat="梁潔娥" className="pure-menu-link">梁潔娥</a></li>
                              <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="大城小事" data-subcat="譚惠清" className="pure-menu-link">譚惠清</a></li>
                              <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="大城小事" data-subcat="鍾飛" className="pure-menu-link">鍾飛</a></li>
                              <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="大城小事" data-subcat="嚴劍蓉" className="pure-menu-link">嚴劍蓉</a></li>
                          </ul>
                        </li>
                        <li className="pure-menu-item"><a href="#" onClick={this.handleChange} data-cat="LiveRadio" data-subcat="RTHK" className="pure-menu-link">RTHK Live Radio</a></li>
                        <li className="pure-menu-item"><a href="#" onClick={this.handleChange} className="pure-menu-link">Finance</a></li>
                    </ul>
                </div>
                <h1>{this.state.cat}</h1>
                <h2>{this.state.subCat}</h2>
                <AudioTrack list={this.state.list} />
             </div>
            )
          }
        }

        ReactDOM.render(<Menu />, document.getElementById('root'));
    </script>


</head>

<body>
  <div id="root"></div>

  <ul id="cachedpagelist"></ul>
</body>
</html>